{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./Matches.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Matches=()=>{const[matches,setMatches]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';useEffect(()=>{fetchMatches();},[]);const fetchMatches=async()=>{setLoading(true);setError(null);try{const token=localStorage.getItem('token');const response=await axios.get('${API_URL}/api/movies/matches',{headers:{Authorization:`Bearer ${token}`}});setMatches(response.data);}catch(error){console.error('Error fetching matches:',error);setError('Failed to fetch matches. Please try again.');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading matches...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error});}if(matches.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"no-matches\",children:\"No matches found yet. Keep swiping!\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"matches-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Matches\"}),/*#__PURE__*/_jsx(\"div\",{className:\"matches-grid\",children:matches.map(movie=>/*#__PURE__*/_jsxs(\"div\",{className:\"match-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:movie.poster,alt:movie.title}),/*#__PURE__*/_jsx(\"h3\",{children:movie.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Genre: \",movie.genre]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rating: \",movie.rating]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Matched with \",movie.match_count,\" other \",movie.match_count===1?'user':'users']}),/*#__PURE__*/_jsxs(\"div\",{className:\"matched-users\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Matched Users:\"}),/*#__PURE__*/_jsx(\"ul\",{children:movie.matched_users.map(user=>/*#__PURE__*/_jsx(\"li\",{children:user.username},user.id))})]})]},movie.id))})]});};export default Matches;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Matches","matches","setMatches","loading","setLoading","error","setError","API_URL","process","env","REACT_APP_API_URL","fetchMatches","token","localStorage","getItem","response","get","headers","Authorization","data","console","className","children","length","map","movie","src","poster","alt","title","genre","rating","match_count","matched_users","user","username","id"],"sources":["/Users/tony/Documents/Code/movie-matcher/frontend/src/Matches.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './Matches.css';\n\nconst Matches = () => {\n  const [matches, setMatches] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\n\n  useEffect(() => {\n    fetchMatches();\n  }, []);\n\n  const fetchMatches = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('${API_URL}/api/movies/matches', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setMatches(response.data);\n    } catch (error) {\n      console.error('Error fetching matches:', error);\n      setError('Failed to fetch matches. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading matches...</div>;\n  }\n\n  if (error) {\n    return <div className=\"error\">{error}</div>;\n  }\n\n  if (matches.length === 0) {\n    return <div className=\"no-matches\">No matches found yet. Keep swiping!</div>;\n  }\n\n  return (\n    <div className=\"matches-container\">\n      <h2>Your Matches</h2>\n      <div className=\"matches-grid\">\n        {matches.map(movie => (\n          <div key={movie.id} className=\"match-card\">\n            <img src={movie.poster} alt={movie.title} />\n            <h3>{movie.title}</h3>\n            <p>Genre: {movie.genre}</p>\n            <p>Rating: {movie.rating}</p>\n            <p>Matched with {movie.match_count} other {movie.match_count === 1 ? 'user' : 'users'}</p>\n            <div className=\"matched-users\">\n              <h4>Matched Users:</h4>\n              <ul>\n                {movie.matched_users.map(user => (\n                  <li key={user.id}>{user.username}</li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Matches;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}