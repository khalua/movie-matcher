{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./AllMovies.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AllMovies=()=>{const[movies,setMovies]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const apiUrl=process.env.REACT_APP_API_URL||'http://localhost:5000';useEffect(()=>{fetchMovies();},[]);const fetchMovies=async()=>{setLoading(true);setError(null);try{const token=localStorage.getItem('token');const response=await axios.get(`${apiUrl}/api/movies/all`,{headers:{Authorization:`Bearer ${token}`}});setMovies(response.data);}catch(error){console.error('Error fetching movies:',error);setError('Failed to fetch movies. Please try again.');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading movies...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"all-movies-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"All Movies\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"movies-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Poster\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Genre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rating\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Length\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Starring\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Likes Count\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:movies.map(movie=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:movie.id}),/*#__PURE__*/_jsx(\"td\",{children:movie.title}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:movie.poster,alt:movie.title,className:\"poster-thumbnail\"})}),/*#__PURE__*/_jsx(\"td\",{children:movie.description}),/*#__PURE__*/_jsx(\"td\",{children:movie.genre}),/*#__PURE__*/_jsx(\"td\",{children:movie.rating}),/*#__PURE__*/_jsx(\"td\",{children:movie.length}),/*#__PURE__*/_jsx(\"td\",{children:movie.starring}),/*#__PURE__*/_jsx(\"td\",{children:movie.likes_count})]},movie.id))})]})})]});};export default AllMovies;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","AllMovies","movies","setMovies","loading","setLoading","error","setError","apiUrl","process","env","REACT_APP_API_URL","fetchMovies","token","localStorage","getItem","response","get","headers","Authorization","data","console","className","children","map","movie","id","title","src","poster","alt","description","genre","rating","length","starring","likes_count"],"sources":["/Users/tony/Documents/Code/movie-matcher/frontend/src/AllMovies.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './AllMovies.css';\n\nconst AllMovies = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\n  useEffect(() => {\n    fetchMovies();\n  }, []);\n\n  const fetchMovies = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`${apiUrl}/api/movies/all`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      setMovies(response.data);\n    } catch (error) {\n      console.error('Error fetching movies:', error);\n      setError('Failed to fetch movies. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading movies...</div>;\n  }\n\n  if (error) {\n    return <div className=\"error\">{error}</div>;\n  }\n\n  return (\n    <div className=\"all-movies-container\">\n      <h2>All Movies</h2>\n      <div className=\"table-container\">\n        <table className=\"movies-table\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Title</th>\n              <th>Poster</th>\n              <th>Description</th>\n              <th>Genre</th>\n              <th>Rating</th>\n              <th>Length</th>\n              <th>Starring</th>\n              <th>Likes Count</th>\n            </tr>\n          </thead>\n          <tbody>\n            {movies.map(movie => (\n              <tr key={movie.id}>\n                <td>{movie.id}</td>\n                <td>{movie.title}</td>\n                <td><img src={movie.poster} alt={movie.title} className=\"poster-thumbnail\" /></td>\n                <td>{movie.description}</td>\n                <td>{movie.genre}</td>\n                <td>{movie.rating}</td>\n                <td>{movie.length}</td>\n                <td>{movie.starring}</td>\n                <td>{movie.likes_count}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default AllMovies;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}